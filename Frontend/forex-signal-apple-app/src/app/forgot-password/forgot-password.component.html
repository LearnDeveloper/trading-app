<div style="cursor: pointer;" class="dropdown">
    <button class="btn dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown"
        aria-haspopup="true" aria-expanded="false">
        <span *ngIf="selectedLanguage == 'en'"><img style="margin-right: 5px;" src="https://l-earn.pro/wp-content/plugins/translatepress-multilingual/assets/images/flags/en_GB.png" >English</span>
        <span *ngIf="selectedLanguage == 'it'"><img style="margin-right: 5px;" src="https://l-earn.pro/wp-content/plugins/translatepress-multilingual/assets/images/flags/it_IT.png" >Italian</span>
        
    </button>
    <div style="cursor: pointer;" class="dropdown-menu" aria-labelledby="dropdownMenuButton">
        <span (click)="langChanged('en')" class="dropdown-item"><img style="margin-right: 5px;" src="https://l-earn.pro/wp-content/plugins/translatepress-multilingual/assets/images/flags/en_GB.png" >English</span>
        <span (click)="langChanged('it')" class="dropdown-item"><img style="margin-right: 5px;" src="https://l-earn.pro/wp-content/plugins/translatepress-multilingual/assets/images/flags/it_IT.png" >Italian</span>
    </div>
</div>



<div class="login-container mt-5">
    <div class="logo">
      <img src="../../assets/images/Logo.png" alt="Logo">
    </div>
    <div class="title" style="padding: 10px;">
      <h1 class="title">Forgot Password</h1>
      <p class="sub-title">Reset your password</p>
    </div>
    <form [formGroup]="loginForm">
        <div class="form-group">
            <!-- <label for="text-input">{{"email" | translate}}</label> -->
            <div class="input-container">
              <input
                type="email"
                autocomplete="new-phone" 
                id="text-input"
                formControlName="email"
                required
                style="background-color: #ECECEC;"
                placeholder="Email Address"
                (blur)="handleBlur()"              >
              <i
                class="fa fa-times-circle"
                *ngIf="email.value"
                (click)="clearTextInput()"
              ></i>
            </div>
            <div style="color: red;" *ngIf="loginForm.get('email').hasError('required')">
                Email is required.
              </div>
              <div style="color: red;" *ngIf="loginForm.get('email').hasError('email')">
                Please enter a valid email address.
              </div>
          </div>
          
      <div class="form-group">
        <!-- <label for="password">{{'password' | translate}}</label> -->
        <div class="password-input">
          <input
            type="{{ hidePassword ? 'password' : 'text' }}"
            id="password"
            formControlName="password"
            required
            style="background-color: #ECECEC;"
            placeholder="Password"
          >
          <i
            class="fa" 
            style="color: gray !important"
            [ngClass]="{'fa-eye': hidePassword, 'fa-eye-slash': !hidePassword}"
            (click)="togglePasswordVisibility()"
          ></i>
        </div>
        <div *ngIf="password.invalid && (password.dirty || password.touched)" class="error-message">
          <div *ngIf="password.errors.required">Password is required.</div>
          <div *ngIf="password.errors.pattern">
            {{ 'passwordvalidation' | translate }}          
          </div>
        </div>
      </div>

      <div class="form-group">
        <!-- <label for="password">{{'password' | translate}}</label> -->
        <div class="password-input">
          <input
            type="{{ hidePassword1 ? 'password' : 'text' }}"
            id="repassword"
            formControlName="repassword"
            required
            style="background-color: #ECECEC;"
            placeholder="Re-enter Password"
          >
          <i
            class="fa" 
            style="color: gray !important"
            [ngClass]="{'fa-eye': hidePassword1, 'fa-eye-slash': !hidePassword1}"
            (click)="togglePasswordVisibility1()"
          ></i>
        </div>
        <div style="color: red;" *ngIf="loginForm.hasError('passwordMatch')">
            Passwords do not match.
          </div>
      </div>

      <div class="form-group">
        <!-- <label for="text-input">{{"email" | translate}}</label> -->
        <div class="input-container">
          <input
            type="number"
            id="text-input"
            formControlName="OTP"
            required
            style="background-color: #ECECEC;"
            placeholder="OTP"
          >
        </div>
        <div style="color: red;" *ngIf="loginForm.get('OTP').hasError('required')">
            OTP is required.
          </div>
      </div>
      <div *ngIf="resendDetails" class="row timer mt-3 text-center">
        <span style="color: black;font-weight: 500;">Didn't receive any code? <span (click)="resendOTP()" *ngIf="resendDisabled" style="color: #007bff;font-weight: 500;cursor: pointer;text-decoration: underline;">Resend Again</span></span>
        <br>  
        <span >Resend OTP in {{ countdown }} seconds</span>
        <!-- <button class="text-center mt-3" (click)="verifyOTP()" type="submit">Verify OTP</button> -->
       </div> 
      <button (click)="onSubmit()" class="buttonlogin mt-5 mb-5" type="submit" [disabled]="loginForm.invalid">Change Password</button>
    </form>
  </div>
  
      






<!-- <form (ngSubmit)="resetPassword()" #forgotPasswordForm="ngForm">
    <div class="form-group">
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" ngModel required email>
    </div>
    <div class="form-group">
      <label for="otp">OTP:</label>
      <input type="text" id="otp" name="otp" ngModel required pattern="[0-9]{6}">
    </div>
    <div class="form-group">
      <label for="password">Password:</label>
      <input type="password" id="password" name="password" ngModel required>
    </div>
    <div class="form-group">
      <label for="reenterPassword">Reenter Password:</label>
      <input type="password" id="reenterPassword" name="reenterPassword" ngModel required>
    </div>
    <button type="submit" [disabled]="forgotPasswordForm.invalid">Submit</button>
  </form>
   -->